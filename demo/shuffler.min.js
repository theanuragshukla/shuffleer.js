const sleep=t=>new Promise((e=>setTimeout(e,t))),getRandomInteger=(t,e)=>Math.floor(Math.random()*(e-t+1))+t,randomCharacter=t=>{return t[(e=t.length-1,Math.floor(Math.random()*(e-0+1))+0)];var e};class Resolver{constructor(t){t.loop=!0===t.loop,t.resolveString=(t.constant||"")+(t.strings[this.counter++]||"")||"",t.waitBeforeDelete="number"==typeof t.waitBeforeDelete?t.waitBeforeDelete:1e3,t.backSpaceTimeOut="number"==typeof t.backSpaceTimeOut?t.backSpaceTimeOut:100,this.counter=0,this.options=t,this.resolve()}update(){this.resolve()}resolve(){const t=this.options,e=()=>{const o=!0===t.loop;this.counter==this.options.strings.length&&"function"==typeof this.options.onComplete&&this.options.onComplete(),!o&&this.counter>=this.options.strings.length||(this.counter%=this.options.strings.length,this.options.resolveString=(this.options.constant||"")+(this.options.strings[this.counter++]||"")||"",this.doResolverEffect(this.options,e))};this.options.offset=this.options.constant?this.options.constant.length+1:0,this.doResolverEffect(this.options,e)}doResolverEffect(t,e){const o=t.resolveString,s=o.length,n=t.offset,i=o.substring(0,n),r=Object.assign({},t,{partialString:i});this.doRandomiserEffect(r,(()=>{const o=Object.assign({},t,{offset:n+1});n<=s?this.doResolverEffect(o,e):"function"==typeof e&&(this.options.loop?this.deleteText(e):e())}))}doRandomiserEffect(t,e){const o=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","x","y","x","#","%","&","-","+","_","?","/","\\","="],s=t.element,n=t.partialString;let i=t.iterations;setTimeout((()=>{if(i>=0){const r=Object.assign({},t,{iterations:i-1});s.textContent=0===i?n:n.substring(0,n.length-1)+randomCharacter(o),this.doRandomiserEffect(r,e)}else"function"==typeof e&&e()}),t.timeout)}async deleteText(t){const e=this.options,o=e.element,s=e.constant;for(await sleep(e.waitBeforeDelete);s!==o.textContent;)o.textContent=o.textContent.slice(0,o.textContent.length-1),await sleep(e.backSpaceTimeOut);t()}}
