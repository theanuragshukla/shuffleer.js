const sleep=a=>new Promise(b=>setTimeout(b,a));class Resolver{constructor(a){this.resolve(a),this.counter=0}async deleteText(a,b){for(await sleep(1e3);a.constant!==a.element.textContent;)a.element.textContent=a.element.textContent.slice(0,a.element.textContent.length-1),await sleep(100);b()}doResolverEffect(a,f){let b=a.resolveString,g=b.length,c=a.offset,d=b.substring(0,c),e=Object.assign({},a,{partialString:d});this.doRandomiserEffect(e,()=>{let b=Object.assign({},a,{offset:c+1});c<=g?this.doResolverEffect(b,f):"function"==typeof f&&this.deleteText(a,f)})}doRandomiserEffect(a,b){let c=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","x","y","x","#","%","&","-","+","_","?","/","\\","="],d=a.element,e=a.partialString,f=a.iterations;setTimeout(()=>{if(f>=0){let g=Object.assign({},a,{iterations:f-1});0===f?d.textContent=e:d.textContent=e.substring(0,e.length-1)+randomCharacter(c),this.doRandomiserEffect(g,b)}else"function"==typeof b&&b()},a.timeout)}resolve(a){let c=!0===a.loop,b=()=>{(c||!(this.counter>=a.strings.length))&&(this.counter%=a.strings.length,a.resolveString=(a.constant||"")+(a.strings[this.counter++]||"")||"",this.doResolverEffect(a,b))};a.resolveString=(a.constant||"")+(a.strings[this.counter++]||"")||"",a.offset=a.constant?a.constant.length+1:0,this.doResolverEffect(a,b)}}function getRandomInteger(a,b){return Math.floor(Math.random()*(b-a+1))+a}function randomCharacter(a){return a[getRandomInteger(0,a.length-1)]}
